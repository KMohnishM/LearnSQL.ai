# SQL Learning Platform - Frontend

Modern React-based frontend application for the SQL Learning Platform with beautiful UI, interactive components, and comprehensive learning features.

## 🚀 Features

### Core Features
- **📱 Responsive Design**: Mobile-first design that works on all devices
- **🎯 Interactive Learning**: Engaging practice modules with real-time feedback
- **💬 AI Chatbot**: Context-aware floating chatbot with full-screen mode
- **📊 Analytics Dashboard**: Beautiful charts and progress visualization
- **📚 Dynamic Cheat Sheet**: Interactive SQL reference with live examples
- **✨ Markdown Support**: Rich text formatting with syntax highlighting

### UI/UX Features
- **🎨 Modern Design**: Clean, professional interface with Tailwind CSS
- **🌊 Smooth Animations**: Delightful transitions and hover effects
- **📋 Copy to Clipboard**: One-click copying of SQL code
- **🔍 Search & Filter**: Easy navigation through content
- **🖥️ Full-Screen Mode**: Expandable chatbot for detailed conversations
- **🎯 Context Awareness**: Smart assistance based on current page

## 🛠️ Tech Stack

- **React 18** - Modern React with hooks and functional components
- **Vite** - Lightning-fast build tool and development server
- **React Router DOM** - Client-side routing and navigation
- **Tailwind CSS** - Utility-first CSS framework
- **ReactMarkdown** - Markdown rendering with syntax highlighting
- **React Syntax Highlighter** - Beautiful code highlighting
- **Recharts** - Interactive charts and data visualization
- **Lucide React** - Beautiful, customizable icons
- **React Hot Toast** - Elegant notification system
- **Axios** - HTTP client for API requests

## 📁 Project Structure

```
frontend/
├── public/                           # Static assets
│   ├── index.html                    # HTML template
│   └── favicon.ico                   # App icon
├── src/
│   ├── components/                   # Reusable UI components
│   │   ├── FloatingChatbot.js        # AI assistant chatbot
│   │   ├── Navbar.js                 # Navigation bar
│   │   ├── MarkdownDemo.js           # Markdown testing component
│   │   └── MarkdownTestComponent.js  # Development component
│   ├── pages/                        # Main page components
│   │   ├── CheatSheet.js             # SQL reference page
│   │   ├── Practice.js               # Module selection page
│   │   ├── PracticeModule.js         # Individual practice module
│   │   └── Analysis.js               # Progress analytics page
│   ├── context/                      # React context providers
│   │   └── ChatbotContext.js         # Global chatbot state
│   ├── services/                     # API integration
│   │   └── api.js                    # HTTP client configuration
│   ├── App.jsx                       # Main application component
│   ├── main.jsx                      # Application entry point
│   └── index.css                     # Global styles
├── package.json                      # Dependencies and scripts
├── vite.config.js                    # Vite configuration
├── tailwind.config.js                # Tailwind CSS configuration
├── postcss.config.js                 # PostCSS configuration
└── README.md                         # This documentation
```

## 🚀 Installation & Setup

### Prerequisites
- **Node.js 16+** with npm
- **Backend API** running on `http://localhost:8000`

### 1. Install Dependencies
```bash
# Navigate to frontend directory
cd frontend

# Install all dependencies
npm install
```

### 2. Development Server
```bash
# Start development server with hot reload
npm run dev
```
The application will be available at `http://localhost:5173`

### 3. Build for Production
```bash
# Create optimized production build
npm run build

# Preview production build
npm run preview
```

## 📱 Pages & Components

### 1. Cheat Sheet (`/`)
**Component**: `CheatSheet.js`

**Features**:
- Comprehensive SQL reference organized by categories
- Dynamic business examples generated by AI
- Copy-to-clipboard functionality for all code
- Search and filter capabilities
- Markdown rendering with syntax highlighting

**Key Functions**:
```javascript
const formatMessageContent = (content) => {
  // Processes markdown and SQL code blocks
  // Returns formatted JSX with syntax highlighting
}

const copyToClipboard = (text) => {
  // Copies text to clipboard with toast notification
}

const getDynamicExample = async (item) => {
  // Generates AI-powered business scenarios
}
```

### 2. Practice Modules (`/practice`)
**Component**: `Practice.js`

**Features**:
- Overview of all 6 learning modules
- Progress indicators for each module
- Direct navigation to practice sessions
- Responsive card-based layout

**Module Structure**:
```javascript
const modules = [
  {
    id: 1,
    name: "Data Definition and Data Manipulation Language",
    description: "Learn CREATE, ALTER, DROP, INSERT, UPDATE, DELETE",
    difficulty: "Beginner",
    topics: ["CREATE TABLE", "INSERT", "UPDATE", "DELETE"]
  }
  // ... 5 more modules
]
```

### 3. Individual Practice Module (`/practice/module/:moduleId`)
**Component**: `PracticeModule.js`

**Features**:
- AI-generated business scenario questions
- Real-time SQL evaluation and feedback
- Adaptive difficulty progression
- Hints and help system
- Progress tracking within module

**Key State Management**:
```javascript
const [currentQuestion, setCurrentQuestion] = useState(null);
const [userAnswer, setUserAnswer] = useState('');
const [feedback, setFeedback] = useState(null);
const [showHints, setShowHints] = useState(false);
const [questionCount, setQuestionCount] = useState(1);
```

**Context Integration**:
```javascript
// Updates chatbot context with current question
updateContext({
  currentPage: 'practice',
  currentModule: moduleResponse.data.name,
  currentQuestion: businessQuestionResponse.data.question,
  userProgress: { 
    questionCount, 
    difficulty: businessQuestionResponse.data.difficulty,
    module: moduleResponse.data.name
  }
});
```

### 4. Analytics Dashboard (`/analysis`)
**Component**: `Analysis.js`

**Features**:
- Comprehensive progress visualization
- Performance charts and trends
- Personalized learning recommendations
- Module-wise analytics
- AI-generated insights

**Chart Types**:
- Progress overview with completion percentages
- Performance trends over time
- Difficulty distribution analysis
- Module comparison charts

### 5. Floating Chatbot
**Component**: `FloatingChatbot.js`

**Features**:
- Context-aware AI assistance
- Full-screen conversation mode
- Markdown-formatted responses
- Copy functionality for code snippets
- Conversation memory
- Smart suggestions based on current context

**Context Awareness**:
```javascript
const getPageContext = () => {
  return {
    page: currentPage || 'dashboard',
    module: currentModule || '',
    question: currentQuestion || '',
    progress: userProgress || {}
  };
};
```

## 🎨 Styling & Design

### Tailwind CSS Configuration
```javascript
// tailwind.config.js
module.exports = {
  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],
  theme: {
    extend: {
      typography: {
        DEFAULT: {
          css: {
            maxWidth: 'none',
            color: '#374151',
            // Custom typography styles
          }
        }
      }
    },
  },
  plugins: [
    require('@tailwindcss/typography'),
  ],
}
```

### Design System
- **Primary Colors**: Blue (#3B82F6) for actions and links
- **Success**: Green (#10B981) for correct answers
- **Error**: Red (#EF4444) for mistakes
- **Warning**: Yellow (#F59E0B) for hints
- **Gray Scale**: Modern gray palette for text and backgrounds

### Responsive Breakpoints
- **Mobile**: `sm:` (640px+)
- **Tablet**: `md:` (768px+)
- **Desktop**: `lg:` (1024px+)
- **Large Desktop**: `xl:` (1280px+)

## 🔄 State Management

### React Context
The application uses React Context for global state management:

**ChatbotContext.js**:
```javascript
const ChatbotProvider = ({ children }) => {
  const [chatbotContext, setChatbotContext] = useState({
    currentPage: '',
    currentModule: '',
    currentQuestion: '',
    userProgress: {}
  });

  const updateContext = useCallback((updates) => {
    setChatbotContext(prev => ({ ...prev, ...updates }));
  }, []);

  return (
    <ChatbotContext.Provider value={{ chatbotContext, updateContext }}>
      {children}
    </ChatbotContext.Provider>
  );
};
```

### Local State Management
Each component manages its own local state using React hooks:
- `useState` for component data
- `useEffect` for side effects and API calls
- `useCallback` for performance optimization
- `useRef` for DOM references

## 🌐 API Integration

### HTTP Client Configuration
```javascript
// services/api.js
import axios from 'axios';

const API_BASE_URL = 'http://localhost:8000/api';

export const apiService = {
  // Cheat sheet methods
  getCheatSheet: () => axios.get(`${API_BASE_URL}/cheatsheet`),
  getDynamicExample: (data) => axios.post(`${API_BASE_URL}/cheat-sheet/example`, data),
  
  // Practice methods
  getModules: () => axios.get(`${API_BASE_URL}/modules`),
  getModule: (moduleId) => axios.get(`${API_BASE_URL}/modules/${moduleId}`),
  getBusinessQuestion: (moduleId, difficulty) => 
    axios.get(`${API_BASE_URL}/modules/${moduleId}/business-question?difficulty=${difficulty}`),
  evaluateAnswer: (data) => axios.post(`${API_BASE_URL}/practice/evaluate-business-answer`, data),
  
  // Analytics methods
  getUserAnalytics: (userId) => axios.get(`${API_BASE_URL}/analysis/${userId}`),
  
  // Chatbot methods
  sendChatMessage: (data) => axios.post(`${API_BASE_URL}/chatbot/message`, data),
  clearChatMemory: () => axios.post(`${API_BASE_URL}/chatbot/clear`)
};
```

### Error Handling
```javascript
try {
  const response = await apiService.getBusinessQuestion(moduleId, difficulty);
  setCurrentQuestion(response.data);
} catch (error) {
  console.error('Error fetching question:', error);
  toast.error('Failed to load question. Please try again.');
}
```

## 🎯 Key Features Implementation

### 1. Markdown Rendering with Syntax Highlighting
```javascript
const formatMessageContent = (content) => {
  const parts = content.split(/(```sql[\s\S]*?```|```[\s\S]*?```)/);
  
  return parts.map((part, index) => {
    if (part.startsWith('```sql')) {
      const code = part.replace(/```sql\n?/, '').replace(/```$/, '');
      return (
        <div key={index} className="my-4 relative">
          <SyntaxHighlighter
            language="sql"
            style={tomorrow}
            customStyle={{
              margin: 0,
              borderRadius: '0.5rem',
              fontSize: '0.875rem'
            }}
          >
            {code}
          </SyntaxHighlighter>
          <CopyButton text={code} />
        </div>
      );
    }
    // Handle regular markdown
    return (
      <ReactMarkdown key={index} className="prose prose-sm max-w-none">
        {part}
      </ReactMarkdown>
    );
  });
};
```

### 2. Copy to Clipboard Functionality
```javascript
const copyToClipboard = async (text) => {
  try {
    await navigator.clipboard.writeText(text);
    setCopiedCode(text);
    toast.success('Code copied to clipboard!');
    setTimeout(() => setCopiedCode(null), 2000);
  } catch (err) {
    toast.error('Failed to copy code');
  }
};
```

### 3. Context-Aware Chatbot Integration
```javascript
// Update context when entering practice module
useEffect(() => {
  if (module && currentQuestion) {
    updateContext({
      currentPage: 'practice',
      currentModule: module.name,
      currentQuestion: currentQuestion.question,
      userProgress: { 
        questionCount, 
        difficulty: currentQuestion.difficulty,
        module: module.name
      }
    });
  }
}, [module, currentQuestion, questionCount, updateContext]);
```

### 4. Progress Visualization
```javascript
// Recharts implementation for analytics
<ResponsiveContainer width="100%" height={300}>
  <BarChart data={progressData}>
    <CartesianGrid strokeDasharray="3 3" />
    <XAxis dataKey="module" />
    <YAxis />
    <Tooltip />
    <Bar dataKey="completion" fill="#3B82F6" />
  </BarChart>
</ResponsiveContainer>
```

## 📱 Responsive Design

### Mobile-First Approach
```css
/* Base styles for mobile */
.container {
  @apply px-4 py-6;
}

/* Tablet styles */
@screen md {
  .container {
    @apply px-8 py-8;
  }
}

/* Desktop styles */
@screen lg {
  .container {
    @apply px-12 py-12 max-w-7xl mx-auto;
  }
}
```

### Component Responsiveness
- **Navigation**: Collapsible mobile menu
- **Cards**: Stack vertically on mobile, grid on desktop
- **Chatbot**: Adaptive sizing for different screen sizes
- **Charts**: Responsive containers with proper scaling

## 🧪 Development & Testing

### Development Commands
```bash
# Start development server
npm run dev

# Type checking (if using TypeScript)
npm run type-check

# Linting
npm run lint

# Fix linting issues
npm run lint:fix
```

### Testing Components
```javascript
// Example component test structure
import { render, screen, fireEvent } from '@testing-library/react';
import { CheatSheet } from './CheatSheet';

test('renders cheat sheet items', () => {
  render(<CheatSheet />);
  expect(screen.getByText('SELECT Statement')).toBeInTheDocument();
});
```

### Hot Module Replacement
Vite provides instant hot module replacement for rapid development:
- CSS changes apply instantly
- Component changes preserve state when possible
- Fast refresh for React components

## 🚀 Production Build

### Build Optimization
```bash
# Create optimized production build
npm run build

# Analyze bundle size
npm run build -- --analyze
```

### Build Output
```
dist/
├── index.html
├── assets/
│   ├── index.[hash].js
│   ├── index.[hash].css
│   └── vendor.[hash].js
└── favicon.ico
```

### Performance Optimizations
- **Code Splitting**: Automatic route-based splitting
- **Tree Shaking**: Removes unused code
- **Asset Optimization**: Images and fonts optimized
- **Lazy Loading**: Components loaded on demand
- **Bundle Analysis**: Identify large dependencies

## 🔧 Configuration

### Vite Configuration
```javascript
// vite.config.js
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  server: {
    port: 5173,
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true
      }
    }
  },
  build: {
    outDir: 'dist',
    sourcemap: true
  }
})
```

### Environment Variables
```bash
# .env.local
VITE_API_BASE_URL=http://localhost:8000/api
VITE_APP_NAME=SQL Learning Platform
```

## 🤝 Contributing

### Code Style Guidelines
1. Use functional components with hooks
2. Follow React best practices
3. Use Tailwind CSS for styling
4. Add proper TypeScript types (if applicable)
5. Include component documentation

### Component Structure
```javascript
// ComponentName.js
import React, { useState, useEffect } from 'react';
import { SomeIcon } from 'lucide-react';

const ComponentName = ({ prop1, prop2 }) => {
  // State declarations
  const [state, setState] = useState(initialValue);
  
  // Effects
  useEffect(() => {
    // Side effects
  }, [dependencies]);
  
  // Event handlers
  const handleEvent = () => {
    // Handler logic
  };
  
  // Render
  return (
    <div className="container">
      {/* Component JSX */}
    </div>
  );
};

export default ComponentName;
```

---

**Built with ❤️ using React, Vite, and modern web technologies.**